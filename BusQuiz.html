<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz sull'Educazione Stradale</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f7f7f7;
            margin: 0;
            padding: 0;
        }

        h1 {
            color: #333;
        }

        #quiz {
            background-color: #fff;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        button {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }

        button:hover {
            background-color: #45a049;
        }

        #result {
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <h1>Quiz sull'Educazione Stradale in Bus</h1>
    <div id="quiz">
        <p id="question"></p>
        <button id="startButton">Inizia</button>
        <button id="option1"></button>
        <button id="option2"></button>
        <button id="option3"></button>
        <button id="option4"></button>
    </div>
    <p id="result"></p>
    <script>

        const questions = [
            {
                question: "Cosa dovrebbe fare un passeggero sui mezzi pubblici quando un anziano entra sull'autobus?",
                options: ["Continuare a sedersi e ignorare la situazione", "Alzarsi e offrire il proprio posto", "Chiedere all'autista di farlo sedere altrove", "Restare seduti e aspettare che qualcun altro si alzi"],
                answer: 1
            },
            {
                question: "Qual è il comportamento appropriato per un passeggero sui mezzi pubblici in caso di sovraffollamento?",
                options: ["Spingere per entrare", "Lamentarsi con gli altri passeggeri", "Rimanere tranquillo e rispettare lo spazio degli altri", "Sedersi sui gradini dell'autobus"],
                answer: 2
            },
            {
                question: "Cosa dovrebbe fare un passeggero sui mezzi pubblici se nota una borsa o un oggetto sospetto?",
                options: ["Ignorare l'oggetto", "Riferirlo al conducente o alle autorità competenti", "Prendere l'oggetto e portarlo a casa", "Lasciare l'oggetto dove si trova"],
                answer: 1
            },
            {
                question: "Quale comportamento è appropriato per un passeggero sui mezzi pubblici in presenza di un passeggero molesto o aggressivo?",
                options: ["Confrontarsi con il passeggero aggressivo", "Chiamare l'autista o le autorità competenti", "Evitare il conflitto e spostarsi altrove", "Provocare il passeggero aggressivo"],
                answer: 2
            },
            {
                question: "Cosa dovrebbe fare un passeggero sui mezzi pubblici in caso di emergenza medica di un altro passeggero?",
                options: ["Ignorare la situazione", "Chiamare un taxi per il passeggero malato", "Chiamare il 118 o chiedere aiuto all'autista", "Lasciare il passeggero malato da solo"],
                answer: 2
            },
            {
                question: "Qual è il modo corretto per un passeggero sui mezzi pubblici di comunicare l'intenzione di voler scendere?",
                options: ["Gridare e fare gesti aggressivi", "Premere il pulsante di richiesta fermata", "Lanciare oggetti all'autista", "Inviare un sms all'autista"],
                answer: 1
            },
            {
                question: "Cosa dovrebbe fare un passeggero sui mezzi pubblici se perde l'orario dell'ultimo autobus per tornare a casa?",
                options: ["Chiamare un taxi e pagare una cifra elevata", "Chiedere aiuto agli altri passeggeri", "Chiedere al conducente se può fare un'eccezione", "Prepararsi a trovare un'altra soluzione per tornare a casa"],
                answer: 3
            },
            {
                question: "Qual è il comportamento appropriato per un passeggero sui mezzi pubblici in caso di emergenza come un incendio o un'emergenza medica?",
                options: ["Gridare e panico", "Seguire le istruzioni del conducente e collaborare con gli altri passeggeri per evacuare in sicurezza", "Nascondersi sotto il sedile", "Chiamare un amico per chiedere aiuto"],
                answer: 1
            },
            {
                question: "Cosa dovrebbe fare un passeggero sui mezzi pubblici se si rende conto di aver perso un oggetto personale?",
                options: ["Sperare che qualcuno lo restituisca", "Informare immediatamente il conducente o l'ufficio oggetti smarriti", "Lasciar perdere e comprare un nuovo oggetto", "Pubblicare un annuncio sui social media"],
                answer: 1
            },
            {
                question: "Quale comportamento è appropriato per un passeggero sui mezzi pubblici se nota che un passeggero ha dimenticato la borsa o il portafoglio?",
                options: ["Prendere la borsa o il portafoglio e tenerli per sé", "Riferirlo all'autista o alle autorità competenti", "Ignorare la situazione", "Nascondere la borsa o il portafoglio per divertimento"],
                answer: 1
            }
        ];



        document.getElementById("option1").addEventListener("click", function () {
            checkAnswer(0);
        });

        document.getElementById("option2").addEventListener("click", function () {
            checkAnswer(1);
        });

        document.getElementById("option3").addEventListener("click", function () {
            checkAnswer(2);
        });

        document.getElementById("option4").addEventListener("click", function () {
            checkAnswer(3);
        });

        let score = 0;
        let currentQuestion = -1;

        function showQuestion() {
            if (currentQuestion == -1) {
                document.getElementById("question").innerText = "Tenta il quiz!";
                document.getElementById("startButton").style.display = "block";
                document.getElementById("option1").style.backgroundColor = "transparent";
                document.getElementById("option2").style.backgroundColor = "transparent";
                document.getElementById("option3").style.backgroundColor = "transparent";
                document.getElementById("option4").style.backgroundColor = "transparent";
                document.getElementById("option1").disabled = true;
                document.getElementById("option2").disabled = true;
                document.getElementById("option3").disabled = true;
                document.getElementById("option4").disabled = true;
                document.getElementById("startButton").onclick = startQuiz;
            } else {
                const q = questions[currentQuestion];
                document.getElementById("question").innerText = q.question;
                document.getElementById("option1").innerText = q.options[0];
                document.getElementById("option2").innerText = q.options[1];
                document.getElementById("option3").innerText = q.options[2];
                document.getElementById("option4").innerText = q.options[3];
            }
        }

        function startQuiz() {
            score = 0;
            currentQuestion = 0;

            document.getElementById("option1").disabled = false;
            document.getElementById("option2").disabled = false;
            document.getElementById("option3").disabled = false;
            document.getElementById("option4").disabled = false;

            document.getElementById("option1").style.backgroundColor = "#4CAF50";
            document.getElementById("option2").style.backgroundColor = "#4CAF50";
            document.getElementById("option3").style.backgroundColor = "#4CAF50";
            document.getElementById("option4").style.backgroundColor = "#4CAF50";

            document.getElementById("startButton").style.display = "none";

            showQuestion();
            document.getElementById("quiz").style.display = "block";
        }

        function checkAnswer(answer) {
            if (answer == questions[currentQuestion].answer) {
                score++;
            }
            currentQuestion++;
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showScore();
            }
        }

        function showScore() {
            currentQuestion = -1;
            document.getElementById("quiz").style.display = "none";
            if (score == questions.length) {
                alert("Hai risposto correttamente a tutte le domande  :)\nClicca per tornare alla home.");
            } else if (score == 0) {
                alert("Hai sbagliato tutte le domande :(\nClicca per tornare alla home.");
            } else {
                alert("Hai risposto correttamente a " + score + " su " + questions.length + " domande!\nClicca per tornare alla home.");
            }
            window.location.href = "index.html";
        }

        showQuestion();
    </script>
</body>

</html>